{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Build Docker Image",
      "type": "docker-build",
      "dockerBuild": {
        "context": "${workspaceFolder}",
        "dockerfile": "${workspaceFolder}/Dockerfile",
        "tag": "deploy-coverage-action"
      }
    },
    {
      "label": "Copy Project Files",
      "type": "shell",
      // cd /Users/nick/git/orgs/enspyrco/monorepo && flutter clean;
      // /Users/nick/Desktop/monorepo/.
      "command": "docker create --name tmp deploy-coverage-action && docker cp . tmp:/home/ && docker commit tmp deploy-coverage-action && docker container rm tmp"
    },
    {
      "label": "Run Docker Image",
      "type": "shell",
      "command": "docker run -P --env-file .local_dev.env --workdir /home deploy-coverage-action"
    },
    {
      "label": "Build, Copy, Run",
      "dependsOrder": "sequence",
      "dependsOn": [
        "Build Docker Image",
        "Copy Project Files",
        "Run Docker Image"
      ],
      "problemMatcher": []
    }
  ]
}